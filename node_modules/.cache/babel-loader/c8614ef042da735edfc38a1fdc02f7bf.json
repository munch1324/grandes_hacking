{"ast":null,"code":"var _jsxFileName = \"/Users/mgrande/Desktop/js_hacking/grandes_hacking/src/components/LoginButton.js\";\nimport React, { Component } from 'react';\nimport { Button, IconButton, Menu, MenuItem, ListItemText } from '@material-ui/core';\nimport { AccountCircle } from '@material-ui/icons';\nimport { withAuth } from '@okta/okta-react';\n\nclass LoginButton extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      authenticated: null,\n      user: null,\n      menuAnchorEl: null\n    };\n\n    this.login = () => this.props.auth.login();\n\n    this.logout = () => {\n      this.handleMenuClose();\n      this.props.auth.logout();\n    };\n\n    this.handleMenuOpen = event => this.setState({\n      menuAnchorEl: event.currentTarget\n    });\n\n    this.handleMenuClose = () => this.setState({\n      menuAnchorEl: null\n    });\n  }\n\n  componentDidUpdate() {\n    this.checkAuthentication();\n  }\n\n  componentDidMount() {\n    this.checkAuthentication();\n  }\n\n  async checkAuthentication() {\n    const authenticated = await this.props.auth.isAuthenticated();\n\n    if (authenticated !== this.state.authenticated) {\n      const user = await this.props.auth.getUser();\n      this.setState({\n        authenticated,\n        user\n      });\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          authenticated = _this$state.authenticated,\n          user = _this$state.user,\n          menuAnchorEl = _this$state.menuAnchorEl;\n    if (authenticated === null) return null;\n    if (!authenticated) return React.createElement(Button, {\n      color: \"inherit\",\n      onClick: this.login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Login\");\n    const menuPosition = {\n      vertical: 'top',\n      horizontal: 'right'\n    };\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(IconButton, {\n      onClick: this.handleMenuOpen,\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(AccountCircle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    })), React.createElement(Menu, {\n      anchorEl: menuAnchorEl,\n      anchorOrigin: menuPosition,\n      transformOrigin: menuPosition,\n      open: !!menuAnchorEl,\n      onClose: this.handleMenuClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(MenuItem, {\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(ListItemText, {\n      primary: \"Logout\",\n      secondary: user && user.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default withAuth(LoginButton);","map":{"version":3,"sources":["/Users/mgrande/Desktop/js_hacking/grandes_hacking/src/components/LoginButton.js"],"names":["React","Component","Button","IconButton","Menu","MenuItem","ListItemText","AccountCircle","withAuth","LoginButton","state","authenticated","user","menuAnchorEl","login","props","auth","logout","handleMenuClose","handleMenuOpen","event","setState","currentTarget","componentDidUpdate","checkAuthentication","componentDidMount","isAuthenticated","getUser","render","menuPosition","vertical","horizontal","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Button,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemText,\n} from '@material-ui/core';\nimport { AccountCircle } from '@material-ui/icons';\nimport { withAuth } from '@okta/okta-react';\n\nclass LoginButton extends Component {\n  state = {\n    authenticated: null,\n    user: null,\n    menuAnchorEl: null,\n  };\n\n  componentDidUpdate() {\n    this.checkAuthentication();\n  }\n\n  componentDidMount() {\n    this.checkAuthentication();\n  }\n\n  async checkAuthentication() {\n    const authenticated = await this.props.auth.isAuthenticated();\n    if (authenticated !== this.state.authenticated) {\n      const user = await this.props.auth.getUser();\n      this.setState({ authenticated, user });\n    }\n  }\n\n  login = () => this.props.auth.login();\n  logout = () => {\n    this.handleMenuClose();\n    this.props.auth.logout();\n  };\n\n  handleMenuOpen = event => this.setState({ menuAnchorEl: event.currentTarget });\n  handleMenuClose = () => this.setState({ menuAnchorEl: null });\n\n  render() {\n    const { authenticated, user, menuAnchorEl } = this.state;\n\n    if (authenticated === null) return null;\n    if (!authenticated) return <Button color=\"inherit\" onClick={this.login}>Login</Button>;\n\n    const menuPosition = {\n      vertical: 'top',\n      horizontal: 'right',\n    };\n\n    return (\n      <div>\n        <IconButton onClick={this.handleMenuOpen} color=\"inherit\">\n          <AccountCircle />\n        </IconButton>\n        <Menu\n          anchorEl={menuAnchorEl}\n          anchorOrigin={menuPosition}\n          transformOrigin={menuPosition}\n          open={!!menuAnchorEl}\n          onClose={this.handleMenuClose}\n        >\n          <MenuItem onClick={this.logout}>\n            <ListItemText\n              primary=\"Logout\"\n              secondary={user && user.name}\n            />\n          </MenuItem>\n        </Menu>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(LoginButton);\n"]},"metadata":{},"sourceType":"module"}